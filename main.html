<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>TaskManager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-firestore.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

  <style>
    #navbar {
      background-color: #2b1f60;
    }

    #title {
      color: #f4fffd;
      font-size: 40pt;
      text-align: center;
    }

    #search {
      position: absolute;
      right: 0;
      top: 0;
    }

    #maincontent {
      width: 100%;
      display: block;
    }

    #searchbar {
      font-size: 14pt;
      position: absolute;
      right:0.1%;
      top: 6.5%;
      float: left;
      z-index: 1;
      width: 40%;
      height: 2%;
    }

    #addicon {
      position: absolute;
      right: 0;
      bottom: 0;

    }

    /* Remove margins and padding from the list */
    ul {
      margin: 0;
      padding: 0;
    }

    /* Style the list items */

    ul li {
      cursor: pointer;
      position: relative;
      padding: 12px 8px 12px 40px;
      background: #eee;
      font-size: 18px;
      transition: 0.2s;
    }

    #add {
      width: 100%;
      font-size: 48pt;
      text-align: center;
      display: block;
      background-color: #2b1f60;
      color: #f4fffd;
      margin: 0;
    }

    input {
      width: 100%;
      padding: 24px 44px;
      margin: 8px 0;
      display: inline-block;
      font-size: 46pt;
      border-radius: 4px;
      box-sizing: border-box;
    }

    #name {
      width: 100%;
      font-size: 30pt;
      padding: 10pt;
    }

    #type {
      width: 100%;
      font-size: 30pt;
      padding: 10pt;
    }

    #due {
      width: 100%;
      font-size: 30pt;
      padding: 10pt;
    }

    #submission {
      width: 100%;
      position: absolute;
      top: 20%;
    }

    #main {
      width: 100%;

      display: none;
    }
  </style>
  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyATxLHb3r-mvvOnMNysgs4w93mNJ9W9WPQ",
      authDomain: "taskmanager-a2601.firebaseapp.com",
      databaseURL: "https://taskmanager-a2601.firebaseio.com",
      projectId: "taskmanager-a2601",
      storageBucket: "taskmanager-a2601.appspot.com",
      messagingSenderId: "794283389798",
      appId: "1:794283389798:web:f8b8f40c49cbebb543cea7"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
  </script>
</head>

<body>
  <div id="maincontent">
    <header id="navbar">
      <h1 id="title">Task List</h1>
      <img id="search" src="./image/search.png">
      <form id="input1">
        <input type="text" id="searchbar" placeholder="Search">
      </form>
    </header>
    <div id="content">


      <ul id="listyboy" class="list-group">


      </ul>
      <img id="addicon" src="./image/Add.png" style="width: 64px; height: 64px;">
    </div>
  </div>

  <div id="main">
    <header id="add">
      <h1 id="taskadd">Add Task</h1>
    </header>
    <form id="submission">
      <input type="text" id="name" placeholder="Name your task." required="required">
      <input type="text" id="type" placeholder="What type of task." required="required">
      <input type="date" id="due" placeholder="Due date" required="required">
      <input type="button" value="submit" id="submittask">
    </form>
  </div>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="script/create_user.js"></script>
  <script src="script/load_tasks.js"></script>
  <script src="script/add_task.js"></script>
  <script>
    createUser();
    loadTasks();
  </script>
  <script>
    $(document).ready(function () {
      var frontwindow = $("#maincontent");
      var addwindow = $("#main");
      var submitClick = $("#addicon");
      console.log(addwindow, submitClick, frontwindow);
      $("#addicon").click(function (e) {
        $(addwindow).css('z-index', '1');
        $(frontwindow).css('display', 'none');
        $(addwindow).css('display', 'block');
        console.log(e);
      });
    });
  </script>
  
   <!-- Create script for search filter-->
  <script>
  $(document).ready(function() {
  $("#")
    
    
  })
  
  
  </script>

  
  
  
  
    <script>
        $("#submittask").click(function (event) {
            var name = $("#name").val();
            var type = $("#type").val();
            var date = new Date($("#due").val());
            var current = new Date();
            if (name != "" && type != "" && Date.parse(date)) {
                var day = date.getDate()+1;
                console.log(day);
                var month = date.getMonth()+1;
                console.log(month);
                var year = date.getFullYear();
                console.log(year);
                var due1 = [year, month, day].join("/");
                console.log(due);
                /*var curDate = current.getDate()+1;
                var curMonth = current.getMonth()+1;
                var curYear = current.getFullYear();
                var curHour = current.getHours();
                var curMin = current.getMinutes();
                var cur = [curYear, curMonth, curDate].join("/");
                var curTime = cur + " " + [curHour, curMin].join(":");*/
                var list = document.getElementsByClassName("list-group-item");
                console.log(list.length);
                addTask(name, type, due1);
                var frontwindow = $("#maincontent");
                var addwindow = $("#main");
                var addForm = $("#submission");
                $(addwindow).css('z-index', '1');
                $(frontwindow).css('display', 'block');
                $(addwindow).css('display', 'none');
                $(addForm).trigger("reset");
            }
            if (name == "") {
                alert("Please enter a name for the task");
            }
            else if (type == "") {
                alert("Please enter a category for the task");
            }
            else if (!Date.parse(date)) {
                alert("Please choose a date");
            }
        });
    </script>

    <script>
   var searchIcon = $("#search");
   var searchBar = $("#searchbar");
  $(searchIcon).click(function (event) {
    $(searchBar).toggle(500);
    
  });
 
  </script>
  
  
</body>

</html>